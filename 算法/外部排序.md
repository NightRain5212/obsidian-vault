## 外部排序的定义

- 待排序的记录数量大，无法一次性载入内存，整个排序过程必须借用外存分批读入内存。
- 基本方法：
	- 第一阶段：按可用内存大小,利用内部排序方法，构造若干个记录的有序子序列写入外存，通常称这些记录的有序子序列为 “**归并段**”或**顺串**（run）;
	- 第二阶段：归并排序，通过“归并”，逐步扩大记录的有序子序列的长度，直至外存中整个记录序列按关键字有序为止。


## 外部排序的时间开销

- 外部排序总时间=产生初始归并段的时间+外存信息读写时间 +内部归并所需时间
- 产生初始归并段的时间=得到的顺串个数 * 内部排序开销
- 外存信息读写时间=IO读写次数 * 一次IO的时间开销
- 内部归并所需时间= 归并躺数 * 归并排序算法开销
- 对同一个文件，读/写外存的次数$d$和归并的趟数$s$成正比。对$m$个初始归并段进行$k-$路平衡归并时，归并的趟数 $s =\lceil log_k m\rceil$ 
- 改进方式：
	- 增加归并段的个数k —— 多路平衡归并(败者树)
	- 减少初始归并段的个数m —— 置换-选择算法（产生比内存可同时处理的记录数更长的初始顺串）
	- 由置换-选择算法所得到的初始归并段，各段长度不等，可使用最佳归并树进行归并。($k-$叉哈夫曼树)